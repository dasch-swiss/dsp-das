<app-centered-layout>
  <app-profile />

  <div class="content-container">
    <nav mat-tab-nav-bar mat-align-tabs="left" class="tab-bar" animationDuration="0ms" [tabPanel]="tabPanel">
      @for (link of navigation; track link; let i = $index) {
      <span>
        <a
          mat-tab-link
          class="nav-link"
          [routerLink]="link.route"
          routerLinkActive="active-tab"
          #rla="routerLinkActive"
          [active]="rla.isActive">
          <mat-icon class="tab-icon">{{ link.icon }}</mat-icon>
          {{ link.label }}
        </a>
      </span>
      }
    </nav>

    <mat-tab-nav-panel #tabPanel>
      <!-- main content: router outlet -->
      @if (route) {
      <div class="content middle">
        @switch (route) {
        <!-- user profile -->
        @case ('profile') {
        <div class="full-width">
          <app-projects [isUsersProjects]="true" />
        </div>
        }
        <!-- edit user data -->
        @case (routeConstants.userAccount) {
        <div class="full-width">
          <app-account />
        </div>
        }
        <!-- user's projects -->
        @case (routeConstants.projects) {
        <div class="full-width">
          <app-projects [isUsersProjects]="true" />
        </div>
        } }
      </div>
      }
    </mat-tab-nav-panel>
  </div>
</app-centered-layout>
