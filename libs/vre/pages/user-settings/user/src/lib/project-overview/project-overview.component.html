<div class="content extra-large middle">
  <div class="search-input-wrapper extra-large">
    <span class="search-icon">
      <mat-icon>filter_list</mat-icon>
    </span>
    <input
      #filterInput
      type="text"
      placeholder="{{'pages.landingPage.filterProjects' | translate}}"
      (input)="filterProjects(filterInput.value)" />
  </div>

  @if (((userHasProjects$ | async) === true && (isSysAdmin$ | async) === false)) {
    <div>
      <div class="project-overview-subtitle">
        <h3>{{ 'pages.landingPage.usersProjects' | translate }}</h3>
      </div>
      <div class="project-grid">
        @for (project of usersActiveProjects$ | async; track trackByFn(index, project); let index = $index) {
          <app-project-card
            [project]="project"
            [index]="index" />
        }
      </div>
      <div class="project-overview-subtitle">
        <h3>{{ 'pages.landingPage.notUsersProjects' | translate }}</h3>
      </div>
      <div class="project-grid">
        @for (project of notUsersActiveProjects$ | async; track trackByFn(index, project); let index = $index) {
          <app-project-card
            [project]="project"
            [index]="index" />
        }
      </div>
    </div>
  } @else {
    <div class="project-grid">
      @for (project of activeProjects$ | async; track trackByFn(index, project); let index = $index) {
        <app-project-card
          [project]="project"
          [index]="index" />
      }
    </div>
  }

  @if (loading) {
    <div>
      <app-progress-indicator />
    </div>
  }
</div>

