<app-progress-indicator *ngIf="(isLoading$ | async) === true && (user$ | async | isFalsy)" />

<ng-container *ngIf="(isLoading$ | async) === false">
  <ng-container *ngIf="(user$ | async) as user">
    <!-- own user profile (logged-in user) -->
    <div class="user-profile">
      <img appAdminImage [image]="user.email" [type]="'user'" alt="user profile" class="user-profile-image" />
      <div class="user-profile-headline">
        <!-- user names -->
        <h2 class="mat-headline-6">{{ user.givenName }} <br />{{ user.familyName }}</h2>
        <h3 class="mat-body subtitle">{{ user.username }}</h3>

        <mat-divider />

        <!-- user profile info: status, description etc.? -->
        <ul class="user-profile-info">
          <br />
          <li>
            <mat-icon>language</mat-icon>
            {{ user.lang }}
          </li>
          <li class="status warning text-only" *ngIf="isSysAdmin$ | async">
            <mat-icon>verified_user</mat-icon>
            <span>{{ 'pages.userSettings.profile.systemAdmin' | translate }}</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- phone view -->
    <div class="user-profile-mobile">
      <img appAdminImage [image]="user.email" [type]="'user'" alt="user profile" class="user-profile-image" />

      <div class="user-profile-headline">
        <!-- user names -->
        <h2 class="mat-headline-6">{{ user.givenName }} {{ user.familyName }}</h2>
        <h3 class="mat-body subtitle">{{ user.username }}</h3>

        <!-- user profile lang -->
        <ul class="user-profile-lang">
          <li>
            <mat-icon>flag</mat-icon>
            {{ user.lang }}
          </li>
        </ul>
      </div>

      <div class="user-profile-status">
        <div class="fill-in-space"></div>
        <div class="status text-only" [class.active]="user.status">
          <mat-icon>info</mat-icon>
          <span *ngIf="user.status"></span>
          <span *ngIf="!user.status"></span>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>
