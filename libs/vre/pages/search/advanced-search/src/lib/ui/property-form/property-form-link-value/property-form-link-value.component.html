<mat-form-field>
  <!-- <mat-label>Search for a resource</mat-label> -->
  <input
    matInput
    placeholder="Search for a resource"
    [matAutocomplete]="auto"
    [formControl]="inputControl"
    (focus)="onInputFocused()" />
  <mat-autocomplete
    #autoComplete
    #auto="matAutocomplete"
    [displayWith]="displayResource"
    (optionsScroll)="onScroll()"
    (optionSelected)="onResourceSelected($event)">
    @if (resourcesSearchNoResults && !resourcesSearchResultsLoading) {
      <mat-option [disabled]="true">
        No results found
      </mat-option>
    }
    @if (!resourcesSearchNoResults && !resourcesSearchResultsLoading && resourcesSearchResultsCount) {
      <mat-option
        [disabled]="true">
        {{ resourcesSearchResultsCount }} results found
      </mat-option>
    }

    @for (res of resourcesSearchResults; track res) {
      <mat-option [value]="res"> {{ res?.label }}</mat-option>
    }
    @if (resourcesSearchResultsLoading) {
      <mat-option [disabled]="true" class="loader">
        <app-progress-indicator />
      </mat-option>
    }
  </mat-autocomplete>
</mat-form-field>
