<mat-form-field>
  <input
    matInput
    placeholder="Search for a resource"
    [matAutocomplete]="auto"
    [formControl]="inputControl"
    (focus)="onInputFocused()" />

  <mat-autocomplete
    #autoComplete
    #auto="matAutocomplete"
    [displayWith]="displayResource"
    (optionsScroll)="onScroll()"
    (optionSelected)="onResourceSelected($event)">
    @if ((resourcesSearchNoResults$ | async) && (resourcesSearchResultsLoading$ | async) === false) {
    <mat-option [disabled]="true">No results found</mat-option>
    } @if ((resourcesSearchNoResults$ | async) === false && (resourcesSearchResultsLoading$ | async) === false &&
    (resourcesSearchResultsCount$ | async)) {
    <mat-option [disabled]="true"> {{ resourcesSearchResultsCount$ | async }} results found </mat-option>
    } @for (res of (resourcesSearchResults$ | async); track res?.id ?? res) {
    <mat-option [value]="res">{{ res?.label }}</mat-option>
    } @if (resourcesSearchResultsLoading$ | async) {
    <mat-option class="loader">
      <app-progress-indicator />
    </mat-option>
    }
  </mat-autocomplete>
</mat-form-field>
