<app-centered-layout data-cy="data-models-container">
  <div style="display: flex; justify-content: space-between; align-items: center">
    <div class="mat-subtitle-1" style="margin-bottom: 0; display: flex; align-items: center">
      <span>{{ 'pages.ontology.dataModels.title' | translate }}</span>
      <mat-icon
        color="primary"
        [matTooltip]="'pages.ontology.dataModels.info' | translate"
        matTooltipPosition="above"
        style="margin-left: 8px">
        info
      </mat-icon>
    </div>
    @if (hasProjectAdminRights$ | async) {
    <div style="display: flex; gap: 8px">
      <a
        color="primary"
        mat-stroked-button
        href="https://docs.dasch.swiss/latest/DSP-APP/user-guide/project/#data-model"
        target="_blank">
        {{ 'pages.ontology.dataModels.documentation' | translate }}
        <mat-icon>chevron_right</mat-icon>
      </a>

      <button color="primary" data-cy="create-button" mat-raised-button (click)="createNewOntology()">
        <mat-icon>add_circle</mat-icon>
        <span>{{ 'pages.ontology.dataModels.createNew' | translate }}</span>
      </button>
    </div>
    }
  </div>

  @if (ontologiesMetadata$ | async) {
  <div>
    <mat-card appearance="outlined" style="margin: 16px 0">
      <mat-list style="padding: 0">
        @for (onto of ontologiesMetadata$ | async; track trackByOntologyMetaFn($index, onto)) {
        <mat-list-item (click)="navigateToOntology(onto.id)">
          <mat-icon matListItemIcon>bubble_chart</mat-icon>
          <div matLine>{{ onto.label }}</div>
        </mat-list-item>

        }
      </mat-list>
    </mat-card>
  </div>
  }

  <div style="margin-top: 80px; display: flex; justify-content: space-between">
    <div class="mat-subtitle-1" style="display: flex; align-items: center">
      <span>{{ 'pages.ontology.dataModels.vocabularies.title' | translate }}</span>
      <mat-icon
        color="primary"
        [matTooltip]="'pages.ontology.dataModels.vocabularies.info' | translate"
        matTooltipPosition="above"
        style="margin-left: 8px">
        info
      </mat-icon>
    </div>

    @if (hasProjectAdminRights$ | async) {
    <button color="primary" data-cy="create-list-button" mat-raised-button (click)="createNewList()">
      <mat-icon>add_circle</mat-icon>
      {{ 'pages.ontology.dataModels.vocabularies.createNew' | translate }}
    </button>
    }
  </div>

  <mat-card appearance="outlined" style="margin: 16px 0">
    <mat-list style="padding: 0">
      @for (list of (listsInProject$ | async); track trackByFn($index, list)) {
      <mat-list-item (click)="navigateToList(list.id)">
        <mat-icon matListItemIcon>list</mat-icon>
        <div matLine>{{ list.labels | appStringifyStringLiteral }}</div>
      </mat-list-item>

      }
    </mat-list>
  </mat-card>
</app-centered-layout>
