<app-centered-layout>
  <div class="data-models-container" data-cy="data-models-container">
    <div class="header">
      <p class="title">{{ 'pages.ontology.dataModels.title' | translate }}</p>
      <mat-icon
        color="primary"
        class="icon"
        [matTooltip]="'pages.ontology.dataModels.info' | translate"
        matTooltipPosition="above">
        info
      </mat-icon>
    </div>
    @if (hasProjectAdminRights$ | async) {
    <div class="data-models-admin-panel action-buttons">
      <button color="primary" data-cy="create-button" mat-raised-button class="create" (click)="createNewOntology()">
        <mat-icon class="v-align-middle">add_circle</mat-icon>
        <span class="v-align-middle">{{ 'pages.ontology.dataModels.createNew' | translate }}</span>
      </button>
      <a
        color="primary"
        mat-stroked-button
        class="docs"
        href="https://docs.dasch.swiss/latest/DSP-APP/user-guide/project/#data-model"
        target="_blank">
        {{ 'pages.ontology.dataModels.documentation' | translate }}
        <mat-icon>chevron_right</mat-icon>
      </a>
    </div>
    } @if (ontologiesMetadata$ | async) {
    <div class="list">
      @for (onto of ontologiesMetadata$ | async; track trackByOntologyMetaFn($index, onto)) {
      <div class="list-item ontos" data-cy="ontology-button" (click)="navigateToOntology(onto.id)">
        <mat-icon class="icon-prefix">bubble_chart</mat-icon>
        <p class="label">{{ onto.label }}</p>
        <span class="fill-remaining-space"></span>
        <mat-icon class="icon-suffix">chevron_right</mat-icon>
      </div>
      }
    </div>
    }
    <div class="header">
      <p class="title">{{ 'pages.ontology.dataModels.vocabularies.title' | translate }}</p>
      <mat-icon
        color="primary"
        class="icon"
        [matTooltip]="'pages.ontology.dataModels.vocabularies.info' | translate"
        matTooltipPosition="above">
        info
      </mat-icon>
    </div>
    @if (hasProjectAdminRights$ | async) {
    <div class="data-models-admin-panel action-buttons">
      <a color="primary" data-cy="create-list-button" mat-raised-button class="create" (click)="createNewList()">
        <mat-icon class="v-align-middle">add_circle</mat-icon>
        <span class="v-align-middle">{{ 'pages.ontology.dataModels.vocabularies.createNew' | translate }}</span>
      </a>
    </div>
    }

    <div class="list">
      @for (list of (listsInProject$ | async); track trackByFn($index, list)) {
      <div class="list-item" (click)="navigateToList(list.id)">
        <mat-icon class="icon-prefix">list</mat-icon>
        <p class="label">{{ list.labels | appStringifyStringLiteral }}</p>
        <span class="fill-remaining-space"></span>
        <mat-icon class="icon-suffix">chevron_right</mat-icon>
      </div>
      }
    </div>
  </div>
</app-centered-layout>
