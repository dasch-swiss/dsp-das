<app-dialog-header
  [title]="'pages.system.projectsList.eraseConfirmationDialog.title' | translate"
  [subtitle]="'pages.system.projectsList.eraseConfirmationDialog.subtitle' | translate" />

<mat-dialog-content>
  <div>{{ 'pages.system.projectsList.eraseConfirmationDialog.warning' | translate }}</div>
  <mat-form-field>
    <mat-label>{{ 'pages.system.projectsList.eraseConfirmationDialog.shortCode' | translate }}</mat-label>
    <input
      matInput
      maxlength="4"
      minlength="4"
      data-cy="short-code-input"
      [placeholder]="'pages.system.projectsList.eraseConfirmationDialog.shortCode' | translate"
      [formControl]="eraseForm.controls.shortCode"
      [value]="eraseForm.controls.shortCode" />
    @if (eraseForm.controls.shortCode.hasError('shortCode'); as errors) {
    <mat-error> {{ 'pages.system.projectsList.eraseConfirmationDialog.shortCodeValidation' | translate }} </mat-error>
    }
  </mat-form-field>
  <mat-form-field class="large-field">
    <mat-label>{{ 'pages.system.projectsList.eraseConfirmationDialog.systemAdminPassword' | translate }}</mat-label>
    <input
      [placeholder]="'pages.system.projectsList.eraseConfirmationDialog.systemAdminPassword' | translate"
      autocomplete="current-password"
      data-cy="password-input"
      [formControl]="eraseForm.controls.password"
      matInput
      type="password" />
    @if (eraseForm.controls.password.hasError('password'); as errors) {
    <mat-error> {{ 'pages.system.projectsList.eraseConfirmationDialog.passwordValidation' | translate }} </mat-error>
    }
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button color="primary" mat-dialog-close class="cancel-button center">
    {{ 'pages.system.projectsList.eraseConfirmationDialog.cancel' | translate }}
  </button>
  <span class="fill-remaining-space"></span>
  <button
    [disabled]="eraseForm.invalid"
    mat-button
    appLoadingButton
    [isLoading]="isLoading"
    mat-raised-button
    class="confirm-button center"
    (click)="submit()">
    {{ 'pages.system.projectsList.eraseConfirmationDialog.confirm' | translate }}
  </button>
</mat-dialog-actions>
