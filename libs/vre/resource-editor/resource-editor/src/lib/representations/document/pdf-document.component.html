@if (failedToLoad) {
<app-representation-error-message />
} @else {
<div #pdfContainer class="pdf-container">
  <!-- in case of an error -->
  @if (pdfSrc) {
  <pdf-viewer
    class="pdf-viewer"
    [src]="pdfSrc"
    [original-size]="false"
    [autoresize]="true"
    [show-all]="true"
    [show-borders]="true"
    [zoom]="zoomFactor"
    [zoom-scale]="'page-width'"
    (error)="onPdfLoadError($event)" />
  }

  <div>
    <div class="action horizontal bottom">
      <!-- caption -->
      <span>
        <button mat-icon-button [matMenuTriggerFor]="more">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #more="matMenu" class="representation-menu">
          <button mat-menu-item (click)="download()">
            {{ 'resourceEditor.representations.downloadFile' | translate }}
          </button>
          @if (resourceFetcherService.userCanEdit$ | async) {
          <button mat-menu-item (click)="openReplaceFileDialog()">
            {{ 'resourceEditor.representations.replaceFile' | translate }}
          </button>
          }
        </mat-menu>
      </span>
      <!-- input field for searching through document -->
      <input
        matInput
        #queryInp
        type="text"
        id="searchbox"
        name="searchbox"
        class="pdf-searchbox fill-remaining-space"
        [placeholder]="'resourceEditor.representations.document.searchPlaceholder' | translate"
        [disabled]="failedToLoad"
        (input)="onInputChange($event)"
        (keyup.enter)="searchQueryChanged(queryInp.value)" />
      <!-- image action tools e.g. zoom, rotate and flip -->
      <span>
        <!-- zoom buttons -->
        <button
          mat-icon-button
          id="DSP_PDF_ZOOM_OUT"
          [matTooltip]="'resourceEditor.representations.document.zoomOut' | translate"
          (click)="zoom(-1)"
          [disabled]="failedToLoad">
          <mat-icon>remove_circle_outline</mat-icon>
        </button>
        <button
          mat-icon-button
          id="DSP_PDF_HOME"
          [matTooltip]="'resourceEditor.representations.document.resetZoom' | translate"
          (click)="zoomFactor = 1.0"
          [disabled]="failedToLoad">
          <mat-icon>adjust</mat-icon>
        </button>
        <button
          mat-icon-button
          id="DSP_PDF_ZOOM_IN"
          [matTooltip]="'resourceEditor.representations.document.zoomIn' | translate"
          (click)="zoom(+1)"
          [disabled]="failedToLoad">
          <mat-icon>add_circle_outline</mat-icon>
        </button>
      </span>
      <!-- empty placeholders to center the zoom buttons -->
      <span class="fill-remaining-space"></span>
      <!-- full screen button -->
      <span>
        <button
          mat-icon-button
          id="DSP_PDF_FULL_SCREEN"
          [matTooltip]="'resourceEditor.representations.document.fullscreen' | translate"
          (click)="openFullscreen()"
          [disabled]="failedToLoad">
          <mat-icon>fullscreen</mat-icon>
        </button>
      </span>
    </div>
  </div>
</div>
}
