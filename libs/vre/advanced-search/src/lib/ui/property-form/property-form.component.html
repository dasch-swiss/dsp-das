<div>
    <mat-form-field>
        <mat-label>Select property</mat-label>
        <mat-select
            #propertiesList
            (selectionChange)="onSelectedPropertyChanged($event)"
            name="properties"
        >
            <mat-option *ngFor="let prop of properties" [value]="prop">
                {{ prop.label }}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field>
        <mat-label>Select operator</mat-label>
        <mat-select
            #operatorsList
            (selectionChange)="onSelectedOperatorChanged($event)"
            name="operators"
        >
            <mat-option
                *ngFor="let operator of propertyFormItem?.operators"
                [value]="operator"
            >
                {{ operator }}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <div
        *ngIf="
            propertyFormItem.selectedOperator &&
            propertyFormItem.selectedOperator !== operators.Exists &&
            propertyFormItem.selectedOperator !== operators.NotExists
        "
    >
        <dasch-swiss-property-form-value
            *ngIf="
                propertyFormItem.selectedProperty?.objectType?.includes(
                    constants.KnoraApiV2
                ) &&
                propertyFormItem.selectedProperty?.objectType !==
                    constants.ListValue
            "
            [objectType]="propertyFormItem.selectedProperty?.objectType"
            (emitValueChanged)="onValueChanged($event)"
        />
        <dasch-swiss-property-form-list-value
            *ngIf="
                propertyFormItem.selectedProperty?.objectType ===
                constants.ListValue
            "
            [list]="propertyFormItem.list"
            (emitValueChanged)="onValueChanged($event)"
        >
        </dasch-swiss-property-form-list-value>

        <dasch-swiss-property-form-link-value
            *ngIf="
                !propertyFormItem.selectedProperty?.objectType?.includes(
                    constants.KnoraApiV2
                )
            "
            [resourcesSearchResultsLoading]="resourcesSearchResultsLoading"
            [resourcesSearchResultsCount]="resourcesSearchResultsCount"
            [resourcesSearchResults]="resourcesSearchResults"
            (emitResourceSearchValueChanged)="
                onResourceSearchValueChanged($event)
            "
            (emitResourceSelected)="onValueChanged($event)"
        ></dasch-swiss-property-form-link-value>
    </div>

    <button
        mat-icon-button
        (click)="onRemovePropertyFormClicked(propertyFormItem)"
    >
        <mat-icon>remove_circle</mat-icon>
    </button>
</div>
