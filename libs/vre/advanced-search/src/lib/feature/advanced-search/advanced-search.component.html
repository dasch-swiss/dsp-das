<div>
    <h2>Advanced search</h2>
</div>
<div
    *ngIf="{
        ontologies: ontologies$ | async,
        resourceClasses: resourceClasses$ | async,
        searchButtonDisabled: searchButtonDisabled$ | async,
        propertyFormList: propertyFormList$ | async,
        properties: properties$ | async,
        filteredProperties: filteredProperties$ | async,
        addButtonDisabled: addButtonDisabled$ | async,
        resetButtonDisabled: resetButtonDisabled$ | async,
        selectedOntology: selectedOntology$ | async,
        selectedResourceClass: selectedResourceClass$ | async
    } as asyncData"
>
    <dasch-swiss-ontology-resource-form
        [ontologies]="asyncData.ontologies"
        [resourceClasses]="asyncData.resourceClasses"
        [selectedOntology]="asyncData.selectedOntology"
        [selectedResourceClass]="asyncData.selectedResourceClass"
        (emitSelectedOntology)="handleSelectedOntology($event)"
        (emitSelectedResourceClass)="handleSelectedResourceClass($event)"
    ></dasch-swiss-ontology-resource-form>
    <dasch-swiss-property-form
        *ngFor="let propertyForm of asyncData.propertyFormList"
        [propertyFormItem]="propertyForm"
        [properties]="asyncData.filteredProperties.length ? asyncData.filteredProperties : asyncData.properties"
        (emitRemovePropertyForm)="handleRemovePropertyForm($event)"
        (emitPropertyFormItemChanged)="handlePropertyFormChanged($event)"
    ></dasch-swiss-property-form>
    <dasch-swiss-form-actions
        [addButtonDisabled]="asyncData.addButtonDisabled"
        [resetButtonDisabled]="asyncData.resetButtonDisabled"
        [searchButtonDisabled]="asyncData.searchButtonDisabled"
        (emitAddPropertyForm)="handleAddPropertyForm()"
        (emitResetButtonClicked)="handleResetButtonClicked()"
        (emitSearchButtonClicked)="handleSearchButtonClicked()"
    >
    </dasch-swiss-form-actions>
</div>
