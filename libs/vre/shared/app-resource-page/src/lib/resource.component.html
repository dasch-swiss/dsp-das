<div class="restricted-message" *ngIf="resource?.res?.userHasPermission === 'RV' && showRestrictedMessage">
  <mat-icon>report_problem</mat-icon>
  <p>This resource is restricted, file representations may be of lower quality and some properties may be hidden.</p>
  <mat-icon class="close" (click)="showRestrictedMessage = false">clear</mat-icon>
</div>
<div class="content large middle">
  <div class="resource-view" *ngIf="resource; else noResourceTpl">
    <app-resource-header [resource]="resource"></app-resource-header>

    <ng-container *ngIf="!incomingRepresentationsService.compoundPosition">
      <app-resource-representations
        *ngIf="incomingRepresentationsService.representationsToDisplay as representationsToDisplay"
        [resource]="resource"
        [representationsToDisplay]="representationsToDisplay"></app-resource-representations>
    </ng-container>
    <app-compound-viewer *ngIf="incomingRepresentationsService.compoundPosition"></app-compound-viewer>

    <app-resource-tabs [resource]="resource" [selectedTab]="selectedTab"></app-resource-tabs>
  </div>
</div>

<ng-template #noResourceTpl>
  <div>
    <p>The resource could not be found.</p>
    <p>Reasons:</p>
    <ul>
      <li>It could be a deleted resource and does not exist anymore.</li>
      <li>You don't have the permissions to open this resource.</li>
      <li>The identifier or the ARK URL is wrong.</li>
    </ul>
  </div>
</ng-template>
