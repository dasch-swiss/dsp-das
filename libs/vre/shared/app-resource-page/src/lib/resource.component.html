<div class="restricted-message" *ngIf="resource?.res?.userHasPermission === 'RV' && showRestrictedMessage">
  <mat-icon>report_problem</mat-icon>
  <p>This resource is restricted, file representations may be of lower quality and some properties may be hidden.</p>
  <mat-icon class="close" (click)="showRestrictedMessage = false">clear</mat-icon>
</div>
<div class="content large middle">
  <div class="resource-view" *ngIf="resource">
    <app-resource-header [resource]="resource"></app-resource-header>

    <ng-container *ngIf="!incomingRepresentationsService.compoundPosition">
      <app-resource-representations
        *ngIf="incomingRepresentationsService.representationsToDisplay as representationsToDisplay"
        [resource]="resource"
        [incomingResource]="incomingRepresentationsService.incomingResource"
        [representationsToDisplay]="representationsToDisplay"></app-resource-representations>
    </ng-container>
    <app-compound-viewer *ngIf="incomingRepresentationsService.compoundPosition"></app-compound-viewer>

    <app-resource-tabs *ngIf="!loading" [resource]="resource" [selectedTab]="selectedTab"></app-resource-tabs>
    <dasch-swiss-app-progress-indicator *ngIf="loading"></dasch-swiss-app-progress-indicator>
  </div>
  <dasch-swiss-app-progress-indicator *ngIf="!resource && loading"></dasch-swiss-app-progress-indicator>
  <!-- resource not found  -->
  <div *ngIf="!resource && !loading" class="no-results">
    <p>
      The resource
      <span *ngIf="resource.res.id">&mdash; <strong> {{ resource.res.id }}</strong> &mdash;</span>
      could not be found.
    </p>
    <p>Reasons:</p>
    <ul>
      <li>It could be a deleted resource and does not exist anymore.</li>
      <li>You don't have the permissions to open this resource.</li>
      <li>The identifier or the ARK URL is wrong.</li>
    </ul>
  </div>
</div>
