<div class="error-page">

    <div class="container" *ngIf="!refresh; else isLoading">
        <div class="image">
            <img class="error-image" [src]="'/assets/images/' + message?.image" />
        </div>
        <div class="text error-message">
            <h2 class="mat-title">{{message.type | uppercase}} {{status}} | {{message?.message}}</h2>
            <p [innerHTML]="message.description"></p>
            <p *ngIf="comment">
                <span *ngIf="message.type === 'error'">
                    <strong>Response in detail:</strong><br>&rarr;
                </span>
                <span [innerHTML]="comment | appLinkify"></span>
            </p>
            <div [ngSwitch]="message?.action" class="action">
                <button *ngSwitchCase="'goback'" mat-button routerLink="/">
                    <mat-icon>keyboard_backspace</mat-icon> Please go back to the start page.
                </button>
                <p *ngSwitchCase="'reload'">
                    Please come back in a few minutes and try to <a (click)="reload()">reload the page</a>.
                </p>
                <p *ngSwitchCase="'goto'" [innerHtml]="url | appLinkify"></p>
            </div>

        </div>
    </div>
    <ng-template #isLoading>
        <app-progress-indicator></app-progress-indicator>
    </ng-template>

</div>
