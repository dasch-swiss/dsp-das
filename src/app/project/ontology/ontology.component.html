<kui-progress-indicator *ngIf="loading"></kui-progress-indicator>

<div *ngIf="projectAdmin && !loading">

    <div class="content large middle">

        <!-- select ontology or create new ontology first -->
        <app-ontology-list *ngIf="project?.status && sysAdmin" [ontologies]="ontologies" [projectcode]="projectcode"
                           (refreshParent)="resetOntology($event)" [selected]="ontologyIri">
        </app-ontology-list>

        <!-- <mat-divider *ngIf="ontologyIri"></mat-divider> -->

    </div>


    <div *ngIf="!loading && ontology" class="ontology-editor">

        <!-- add source type to the ontology -->
        <app-add-source-type *ngIf="project?.status && sysAdmin && ontologyIri" [projectcode]="projectcode"
                             class="add-source-type" (refreshParent)="refresh()" #addSourceTypeComponent>
        </app-add-source-type>

        <!-- list of source types -->
        <span *ngFor="let resClass of ontology['@graph']">
            <div *ngIf="resClass['@type'] === 'owl:Class'" class="resource-class" cdkDrag
                 cdkDragBoundary=".ontology-editor">
                {{resClass['rdfs:label']}}
            </div>
        </span>

    </div>

</div>

<div *ngIf="!projectAdmin" class="content large middle">
    <app-error [status]="403"></app-error>
</div>


<!--

<div class="content ontology-editor drag-drop-boundary">

    <mat-card class="resource-type" cdkDragBoundary=".drag-drop-boundary" cdkDrag>
        Create your data model: add the first source type here
    </mat-card>


    <!--
        <div id="ontology-editor" class="ontology-editor" >
                Create your data model first:
                - Drag'n'drop your source types from the list on the right hand side.
                - You can customize the predefined sources to your needs later.
        </div>
    -->
<!--
    <mat-toolbar>
                <span>Select ontology to edit</span>
                <span class="fill-remaining-space"></span>
                <span>
                    <mat-icon>add</mat-icon>
                    Add new source type</span>
            </mat-toolbar>


    <div id="ontology-editor" class="ontology-editor" >
        Create your data model first:
        - Drag'n'drop your source types from the list on the right hand side.
        - You can customize the predefined sources to your needs later.
        <mat-accordion #ontologyEditor>
            <app-resource-type></app-resource-type>
        </mat-accordion>

    </div>

    <div class="ontology-default-elements">
        Select your source types from this list:<br><br>

        <div class="default-source-types">
            <div class="list-item"
              *ngFor="let st of sourcetypes"
              (click)="loadComponent()">
              <mat-icon>keyboard_arrow_left</mat-icon>
                  {{st}}
            </div>
          </div>

    </div>
</div>
-->
