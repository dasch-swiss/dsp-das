<app-progress-indicator *ngIf="loading"></app-progress-indicator>

<div *ngIf="user && !loading">

    <!-- password update: header -->
    <div class="app-toolbar more-space-bottom">
        <div class="app-toolbar-row">
            <h3 class="mat-body subtitle">
                {{ 'appLabels.form.user.title.edit' | translate }}
            </h3>
            <span class="fill-remaining-space"></span>
            <span class="app-toolbar-action">

            </span>
        </div>
        <div class="app-toolbar-row">
            <h2 class="mat-title">
                {{ 'appLabels.form.user.title.password' | translate }}
            </h2>
            <span class="fill-remaining-space"></span>
            <span class="app-toolbar-action">

            </span>
        </div>
    </div>
    <!-- password update: form -->
    <app-password-form [username]="username"></app-password-form>

    <!-- danger zone: delete account -->
    <div class="app-danger-zone more-space-top">
        <!-- delete account: header -->
        <div class="app-toolbar more-space-bottom">
            <div class="app-toolbar-row">
                <h3 class="mat-body subtitle">
                    {{ 'appLabels.form.action.danger' | translate }}
                </h3>
                <span class="fill-remaining-space"></span>
                <span class="app-toolbar-action">

                </span>
            </div>
            <div class="app-toolbar-row">
                <h2 class="mat-title">
                    <span *ngIf="user.status">{{ 'appLabels.form.user.title.delete' | translate }}</span>
                    <span *ngIf="!user.status">Reactivate user</span>

                </h2>
                <span class="fill-remaining-space"></span>
                <span class="app-toolbar-action">

                </span>
            </div>
        </div>
        <!-- delete account: button -->
        <div class="center more-space-top more-space-bottom">
            <button *ngIf="user.status" mat-button [color]="'warn'"
                (click)="openDialog('deleteUser', user.username, user.id)">
                {{ 'appLabels.form.user.title.deleteButton' | translate | uppercase }}
            </button>

            <button *ngIf="!user.status" mat-button [color]="'primary'"
                (click)="openDialog('activateUser', user.username, user.id)">ACTIVATE ACCOUNT</button>
        </div>
    </div>

</div>
