<div class="multiple-instances" *ngIf="searchParams$ | async">
  <as-split direction="horizontal" (dragEnd)="splitSizeChanged = $event">
    <as-split-area [size]="40">
      <app-list-view
        [search]="searchParams$ | async"
        [withMultipleSelection]="true"
        (selectedResources)="openSelectedResources($event)">
      </app-list-view>
    </as-split-area>
    <as-split-area [size]="60" *ngIf="selectedResources?.count > 0" cdkScrollable>
      <div [ngSwitch]="viewMode">
        <!-- single resource view -->
        <app-resource-fetcher *ngSwitchCase="'single'" [resourceIri]="selectedResources.resInfo[0].id" />

        <!-- intermediate view -->
        <app-intermediate
          *ngSwitchCase="'intermediate'"
          [resources]="selectedResources"
          (action)="viewMode=$event"></app-intermediate>

        <!-- multiple resources view / comparison viewer -->
        <app-comparison
          *ngSwitchCase="'compare'"
          [resources]="selectedResources.resInfo"
          [splitSizeChanged]="splitSizeChanged" />
      </div>
    </as-split-area>
  </as-split>
</div>

<div class="single-instance" *ngIf="(instanceId$ | async) && (instanceId$ | async) !== routeConstants.addClassInstance">
  <app-resource-fetcher [resourceIri]="resourceIri$ | async" />
</div>
