<!-- resource's label (defined in the base ontology) -->
<div class="property">
  <h3
    class="mat-subtitle-2"
    matTooltip="Each resource needs a (preferably unique) label. It will be a kind of resource identifier."
    matTooltipPosition="above">
    Resource label *
  </h3>
  <div class="value">
    <app-text-value-as-string
      #createVal
      [mode]="'create'"
      [commentDisabled]="true"
      [valueRequiredValidator]="true"
      [parentForm]="parentForm"
      [formName]="'label'">
    </app-text-value-as-string>
  </div>
</div>

<!-- resource's properties (defined in the ontology) -->
<div class="property" *ngFor="let prop of propertiesWithoutLink; let last = last" [class.border-bottom]="!last">
  <h3 class="mat-subtitle-2" [class.label-info]="prop.comment" [matTooltip]="prop.comment" matTooltipPosition="above">
    {{ prop.label }}
    <span *ngIf="propertyValuesKeyValuePair[prop.id + '-cardinality'][0] === 1">*</span>
  </h3>
  <div class="property-value large-field">
    <ng-container
      *ngFor="
                            let val of propertyValuesKeyValuePair[prop.id];
                            let i = index
                        ">
      <div *ngIf="val !== undefined">
        <app-switch-properties-2
          class="value"
          [property]="prop"
          [control]="myControl(prop.label + '_' + i)"></app-switch-properties-2>
        <!--
                <app-switch-properties
                  #switchProp
                  [property]="prop"
                  [parentResource]="parentResource"
                  [parentForm]="parentForm"
                  [formName]="prop.label + '_' + i"
                  [isRequiredProp]="
                                        propertyValuesKeyValuePair[
                                            prop.id + '-cardinality'
                                        ]
                                    "
                  [currentOntoIri]="currentOntoIri">
                </app-switch-properties>-->
        <button
          mat-icon-button
          *ngIf="propertyValuesKeyValuePair[prop.id + '-filtered'].length !== 1"
          type="button"
          class="value-action delete"
          title="Delete this value"
          (click)="deleteValue(prop, i, $event)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </ng-container>

    <!-- Add button -->
    <div *ngIf="addValueIsAllowed(prop)">
      <button
        mat-icon-button
        type="button"
        class="value-action create"
        title="Add a new value"
        (click)="addNewValueFormToProperty(prop, $event)">
        <mat-icon>add_box</mat-icon>
      </button>
    </div>
  </div>
</div>
