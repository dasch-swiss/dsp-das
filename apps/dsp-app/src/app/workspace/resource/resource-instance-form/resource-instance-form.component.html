<form
  *ngIf="!loading; else loadingTemplate"
  [formGroup]="dynamicForm"
  (ngSubmit)="submitData()"
  appInvalidControlScroll>
  <app-upload-2 [allowedFileTypes]="['image/png']"></app-upload-2>

  <div style="display: flex" *ngIf="dynamicForm.controls['label']">
    <h3
      class="mat-subtitle-2"
      matTooltip="Each resource needs a (preferably unique) label. It will be a kind of resource identifier."
      matTooltipPosition="above">
      Resource label *
    </h3>
    <app-common-input [control]="dynamicForm.controls['label']"></app-common-input>
  </div>

  <div *ngFor="let prop of unsuitableProperties" style="display: flex">
    <div>{{prop.label}}</div>
    <div><ng-template appComponentHost /></div>
  </div>

  <button
    mat-raised-button
    type="submit"
    color="primary"
    appLoadingButton
    [isLoading]="loading"
    [disabled]="dynamicForm.invalid">
    {{ 'appLabels.form.action.submit' | translate }}
  </button>
</form>

<ng-template #loadingTemplate>
  <dasch-swiss-app-progress-indicator></dasch-swiss-app-progress-indicator>
</ng-template>
